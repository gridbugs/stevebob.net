function SBConsole(e,t,n){function a(t){t>=0&&t<s.length&&(o==s.length&&s[o-2]!=""&&f(e.value),o=t,e.value=s[t])}function f(e){s[s.length]=e,o=s.length}function h(e,n){l?(n==40?(e.write(""),n=-1):e.append("."),t.scrollTop=t.scrollHeight,c=setTimeout(h,50,e,n+1)):clearTimeout(c)}const r="> ";var i=!0,s=[],o,u=!0;this.read=function(){return e.value},this.write=function(e){this.append("<br />"+e),t.scrollTop=t.scrollHeight},this.clearInput=function(){e.value=""},this.clearOutput=function(){this.write("<div style='height:"+t.offsetHeight+"px;'></div>")},this.process=function(){if(u){var e=this.read();e!=""&&f(e),this.write(r+e);var t=n.evaluate(e);this.clearInput(),t!=null&&this.write(t)}},this.enable=function(){u=!0},this.disable=function(){u=!1},this.append=function(e){t.innerHTML+=e},this.echoOn=function(){i=!0},this.echoOff=function(){i=!1},this.displayNext=function(){a(o+1)},this.displayPrev=function(){a(o-1)};var l=!1;this.wait=function(){this.disable(),l=!0,this.write(""),h(this,0)},this.resume=function(){l=!1,this.enable()};var c};
