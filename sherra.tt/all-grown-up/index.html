<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="http://sherra.tt/sb.css">
<link rel="stylesheet" type="text/css" href="http://sherra.tt/syntax.min.css">
<script src="http://sherra.tt/tree.min.js" type="text/javascript"></script>
<script src="http://sherra.tt/mountain.min.js" type="text/javascript"></script>
<script src="http://sherra.tt/jquery.min.js" type="text/javascript"></script>

<script type="text/javascript" src="http://sherra.tt/console/Console.min.js"></script>
<script type="text/javascript" src="http://sherra.tt/console/SBConsole.min.js"></script>
<script type="text/javascript" src="http://sherra.tt/console/consoleClient.min.js"></script>
<script type="text/javascript" src="http://sherra.tt/console/Sbox.min.js"></script>
<script type="text/javascript" src="http://sherra.tt/console/Interpreter.min.js"></script>

<title>stevebob.net...All Grown Up</title>
<link rel="icon" type="image/png" href="http://stevebob.net/favicon.png">
</head>
<body onload="new TreeDemo().start_tree();mountain_main();initConsole()">


<div id="tree">
<div id="treeclick" onclick="new TreeDemo().start_tree()">
</div>
<canvas id="screen" width=300 height=200 style="position:absolute;left:-30px;z-index:2"></canvas>
</div>

<div id="mountain_container">

<div id="mountain_click" onclick="mountain_reset()"></div>
<canvas id="mountain" height=130 width=500>
</canvas>

</div>


<div id="sky">
</div>
<div id="skymain">
<div id="skycontent">

                <input id="consoleinput"
                />
            <div id="consoleoutput">
                <p style="font-size:30px;margin:0px;">
                <br />
                </p>
                <p style="font-size:40px">stevebob.net...</p>
            </div>

            
</div>
</div>

 




<div id="linkbar">

<div id="linkbarmain">

<div id="linkbarcontents">
<ul class="links">

<div class="bannerlinkcontainer">

<li>
<a href="http://sherra.tt/">
<div class="bannerlink">
Home</div>
</a>
</li>
</div>

<div class="bannerlinkcontainer">

<li>
<a href="http://sherra.tt/about">
<div class="bannerlink">
About</div>
</a>
</li>
</div>

<div class="bannerlinkcontainer">

<li>
<a href="http://sherra.tt/apps">
<div class="bannerlink">
Apps</div>
</a>
</li>

<div class="dropMenu">
<div class="dropMenuContainee" style="width: 700px">

<ul class="links">


<div class="app-column">
    <li><a class="menuLink" href="http://sherra.tt/3dhero">3D Hero</a></li>
    <li><a class="menuLink" href="http://sherra.tt/3dtesla">3D Tesla</a></li>
    <li><a class="menuLink" href="http://sherra.tt/4dhero">4D Hero</a></li>
    <li><a class="menuLink" href="http://sherra.tt/bsp">BSP Demo</a></li>
    <li><a class="menuLink" href="http://sherra.tt/bsp-wireframe">BSP Wireframe</a></li>
    <li><a class="menuLink" href="http://sherra.tt/backface-culling">Backface Culling</a></li>
    <li><a class="menuLink" href="http://sherra.tt/backface-culling-2-cubes">Backface Culling 2 Cubes</a></li>
    <li><a class="menuLink" href="http://sherra.tt/boxillusion">Box Illusion</a></li>
    <li><a class="menuLink" href="http://sherra.tt/button">Button</a></li>
    <li><a class="menuLink" href="http://comp1917.ripenetwork.com">COMP1917 in a Day</a></li>
    <li><a class="menuLink" href="http://sherra.tt/cell">Cell</a></li>
    <li><a class="menuLink" href="http://sherra.tt/clipping-plane">Clipping Plane</a></li>
    <li><a class="menuLink" href="http://sherra.tt/convexhull-demo">Convex Hull Demo</a></li>
</div>

<div class="app-column">
    <li><a class="menuLink" href="http://sherra.tt/dots">Dots</a></li>
    <li><a class="menuLink" href="http://sherra.tt/fractal">Fractal</a></li>
    <li><a class="menuLink" href="http://sherra.tt/fractalcubes">Fractal Cubes</a></li>
    <li><a class="menuLink" href="http://sherra.tt/fractbox">Fractbox</a></li>
    <li><a class="menuLink" href="http://sherra.tt/grav">Grav</a></li>
    <li><a class="menuLink" href="http://sherra.tt/heart">Heart</a></li>
    <li><a class="menuLink" href="http://sherra.tt/hero">Hero</a></li>
    <li><a class="menuLink" href="http://sherra.tt/herojs1k">Hero JS1K2014</a></li>
    <li><a class="menuLink" href="http://sherra.tt/hyperspace">Hyperspace</a></li>
    <li><a class="menuLink" href="http://sherra.tt/iou">IOU</a></li>
    <li><a class="menuLink" href="http://sherra.tt/isometric_demo">Isometric Demo</a></li>
    <li><a class="menuLink" href="http://sherra.tt/jewels">Jewels</a></li>
    <li><a class="menuLink" href="http://sherra.tt/lex">Lex</a></li>
</div>

<div class="app-column">
    <li><a class="menuLink" href="http://sherra.tt/lowres">Lowres</a></li>
    <li><a class="menuLink" href="http://sherra.tt/mandelbrot">Mandelbrot</a></li>
    <li><a class="menuLink" href="http://sherra.tt/matrix">Matrix</a></li>
    <li><a class="menuLink" href="http://sherra.tt/merry">Merry</a></li>
    <li><a class="menuLink" href="http://sherra.tt/message">Message</a></li>
    <li><a class="menuLink" href="http://sherra.tt/metashape">Metashape</a></li>
    <li><a class="menuLink" href="http://sherra.tt/pixbox">Pixbox</a></li>
    <li><a class="menuLink" href="http://sherra.tt/pixtree">Pixtree</a></li>
    <li><a class="menuLink" href="http://sherra.tt/rpg">RPG</a></li>
    <li><a class="menuLink" href="http://sherra.tt/rave">Rave</a></li>
    <li><a class="menuLink" href="http://sherra.tt/rave_legacy">Rave Legacy</a></li>
    <li><a class="menuLink" href="http://sherra.tt/ray">Ray</a></li>
    <li><a class="menuLink" href="http://sherra.tt/raycastdemo">Ray Cast Demo</a></li>
</div>

<div class="app-column">
    <li><a class="menuLink" href="http://rsc.stevebob.net">Really Simple Chat</a></li>
    <li><a class="menuLink" href="http://sherra.tt/rooms">Rooms</a></li>
    <li><a class="menuLink" href="http://sherra.tt/shadows">Shadows</a></li>
    <li><a class="menuLink" href="http://sherra.tt/snow">Snow</a></li>
    <li><a class="menuLink" href="http://sherra.tt/storm">Storm</a></li>
    <li><a class="menuLink" href="http://sherra.tt/tesla">Tesla</a></li>
    <li><a class="menuLink" href="http://sherra.tt/tesseract">Tesseract</a></li>
    <li><a class="menuLink" href="http://sherra.tt/three">Three</a></li>
    <li><a class="menuLink" href="http://sherra.tt/tree">Tree</a></li>
    <li><a class="menuLink" href="http://sherra.tt/vines">Vines</a></li>
    <li><a class="menuLink" href="http://sherra.tt/wireframe">Wireframe</a></li>
    <li><a class="menuLink" href="http://sherra.tt/worms">Worms</a></li>
    <li><a class="menuLink" href="http://sherra.tt/xor">XOR</a></li>
</div>

</ul>

</div>
</div>
</div>


<div class="bannerlinkcontainer">

<li>
<a href="http://sherra.tt/posts">
<div class="bannerlink">
Posts
</div>
</a>
</li>

<div class="dropMenu">
<div class="dropMenuContainee" style="width: 400px">

<ul class="links">

<div class="post-column">
    <li><a class="menuLink" href="http://sherra.tt/reinventing-the-3d-wheel">Reinventing the 3D Wheel</a></li>
    <li><a class="menuLink" href="http://sherra.tt/heroes-and-villains">Heroes and Villains</a></li>
    <li><a class="menuLink" href="http://sherra.tt/dont-plan-your-trip">Don't Plan Your Trip</a></li>
    <li><a class="menuLink" href="http://sherra.tt/confusing-train-adventure">Confusing Train Adventure</a></li>
    <li><a class="menuLink" href="http://sherra.tt/thinking-fourth-dimensionally">Thinking Fourth Dimensionally</a></li>
    <li><a class="menuLink" href="http://sherra.tt/agda-environment">Agda Programming Environment</a></li>
    <li><a class="menuLink" href="http://sherra.tt/framebuffers-and-coffee">Framebuffers and Coffee</a></li>
    <li><a class="menuLink" href="http://sherra.tt/all-grown-up">All Grown Up</a></li>
    <li><a class="menuLink" href="http://sherra.tt/rpg_engine_bsp_tree_insertion">RPG Engine: BSP Tree Insertion</a></li>
    <li><a class="menuLink" href="http://sherra.tt/rpg_engine_intro">RPG Engine: Introduction</a></li>
    <li><a class="menuLink" href="http://sherra.tt/existentialcrisis">Existential Crisis</a></li>
    <li><a class="menuLink" href="http://sherra.tt/nyak">New York, Alaska</a></li>
    <li><a class="menuLink" href="http://sherra.tt/tmo">Toronto, Montreal, Ottawa</a></li>
</div>

<div class="post-column">
    <li><a class="menuLink" href="http://sherra.tt/photos1">Exchange: Photos 1</a></li>
    <li><a class="menuLink" href="http://sherra.tt/exchange_canada">Exchange: Canada</a></li>
    <li><a class="menuLink" href="http://sherra.tt/blog-written-in-perl">This Blog is Written in Perl</a></li>
</div>
</ul>



</div>
</div>


</div>

</ul>


</div>

</div>















</div>

<div id="main">


<div id="leftmain">
<div id="leftlinks" class="sidepane">
<ul class="links">
<li><a class="leftlink" href="http://sherra.tt/3dhero">3D Hero</a></li>
<li><a class="leftlink" href="http://sherra.tt/3dtesla">3D Tesla</a></li>
<li><a class="leftlink" href="http://sherra.tt/4dhero">4D Hero</a></li>
<li><a class="leftlink" href="http://sherra.tt/bsp">BSP Demo</a></li>
<li><a class="leftlink" href="http://sherra.tt/bsp-wireframe">BSP Wireframe</a></li>
<li><a class="leftlink" href="http://sherra.tt/button">Button</a></li>
<li><a class="leftlink" href="http://sherra.tt/fractalcubes">Fractal Cubes</a></li>
<li><a class="leftlink" href="http://sherra.tt/fractbox">Fractbox</a></li>
<li><a class="leftlink" href="http://sherra.tt/heart">Heart</a></li>
<li><a class="leftlink" href="http://sherra.tt/hero">Hero</a></li>
<li><a class="leftlink" href="http://sherra.tt/herojs1k">Hero JS1K2014</a></li>
<li><a class="leftlink" href="http://sherra.tt/hyperspace">Hyperspace</a></li>
<li><a class="leftlink" href="http://sherra.tt/iou">IOU</a></li>
<li><a class="leftlink" href="http://sherra.tt/isometric_demo">Isometric Demo</a></li>
<li><a class="leftlink" href="http://sherra.tt/lex">Lex</a></li>
<li><a class="leftlink" href="http://sherra.tt/lowres">Lowres</a></li>
<li><a class="leftlink" href="http://sherra.tt/mandelbrot">Mandelbrot</a></li>
<li><a class="leftlink" href="http://sherra.tt/metashape">Metashape</a></li>
<li><a class="leftlink" href="http://sherra.tt/pixtree">Pixtree</a></li>
<li><a class="leftlink" href="http://sherra.tt/rpg">RPG</a></li>
<li><a class="leftlink" href="http://sherra.tt/rave_legacy">Rave Legacy</a></li>
<li><a class="leftlink" href="http://sherra.tt/rooms">Rooms</a></li>
<li><a class="leftlink" href="http://sherra.tt/shadows">Shadows</a></li>
<li><a class="leftlink" href="http://sherra.tt/snow">Snow</a></li>
<li><a class="leftlink" href="http://sherra.tt/tesla">Tesla</a></li>
<li><a class="leftlink" href="http://sherra.tt/tesseract">Tesseract</a></li>
<li><a class="leftlink" href="http://sherra.tt/three">Three</a></li>
<li><a class="leftlink" href="http://sherra.tt/tree">Tree</a></li>
</ul>
</div>
</div>

<div id="rightmain">

<div id="contact-box">

<a href="https://github.com/stevebob"><img src="http://sherra.tt/github.png" alt="Github"></a>
<a href="http://stevebob.net/rss.xml"><img src="http://sherra.tt/rss.png" alt="RSS Feed"></a>
<a href="mailto:stephen@sherra.tt"><img src="http://sherra.tt/email.png" alt="Email"></a>
<a href="https://www.facebook.com/stephen.sherratt1"><img src="http://sherra.tt/facebook.png" alt="Facebook"></a>

</div>

<div id="rightlinks" class="sidepane">
<ul class="links">
<li><a class="right_link" href="http://sherra.tt/reinventing-the-3d-wheel">Reinventing the 3D Wheel</a></li>
<li><a class="right_link" href="http://sherra.tt/heroes-and-villains">Heroes and Villains</a></li>
<li><a class="right_link" href="http://sherra.tt/dont-plan-your-trip">Don't Plan Your Trip</a></li>
<li><a class="right_link" href="http://sherra.tt/confusing-train-adventure">Confusing Train Adventure</a></li>
<li><a class="right_link" href="http://sherra.tt/thinking-fourth-dimensionally">Thinking Fourth Dimensionally</a></li>
<li><a class="right_link" href="http://sherra.tt/agda-environment">Agda Programming Environment</a></li>
<li><a class="right_link" href="http://sherra.tt/framebuffers-and-coffee">Framebuffers and Coffee</a></li>
<li><a class="right_link" href="http://sherra.tt/all-grown-up">All Grown Up</a></li>
<li><a class="right_link" href="http://sherra.tt/rpg_engine_bsp_tree_insertion">RPG Engine: BSP Tree Insertion</a></li>
<li><a class="right_link" href="http://sherra.tt/rpg_engine_intro">RPG Engine: Introduction</a></li>
</ul>
</div>


<div id="career" class="sidepane">
<ul class="links">
<li><a class="right_link" href="http://stephen.sherra.tt">Resume (html)</a></li>
<li><a class="right_link" href="/resume/StephenSherrattResume.pdf">Resume (pdf)</a></li>
</ul>
</div>

</div>



<div id="centremain">
<div id="centrecontent">


<div class="post-container">
<div class="heading-container">
<h1>All Grown Up</h1>
<div class="under-heading">
2012-11-04 17:09
</div>
</div>
<div class="post-body">

<p>This post is to introduce a new content management system and page template for stevebob.net. The frontend and backend have been completely re-written to be consistent with modern websites. There’s also an RSS feed, and rounded corners!</p>

<p>The style of the old site was designed to look 8-bit, using bright colours, square corners and the pixelated fractal tree (which lives on <a href="http://stevebob.net/pixtree/">here</a>). The new style is designed to look more modern. The colour scheme is basically the same, but the colours are washed out. Also there is a new tree. Click on it to redraw.</p>

<p>Now, some history. When I started this site, it was just a static page displaying <a href="http://stevebob.net/tesla">this</a> with a header bar containing links to the several other apps I had. Once I had some more apps made, the user interface became too cluttered, and so I made a home page that had a list of apps and a description.</p>

<p>The problem with this was that every time I released a new app, I would have to go in and manually update the html file to contain a link to it. To amend this, I created the site that was in use up until now.</p>

<h2 id="out_with_the_old">Out with the old</h2>

<p>I wrote a php site that looks in the directory that contains all the apps, and makes a list of apps that it displays on the home page. Each app had a “.app” file that contained a description of the app, along with what to call it, using a markup language that I defined myself in php.</p>

<p>Then I decided I wanted a blog. The technical details of that can be found <a href="http://stevebob.net/blog-written-in-perl/">here</a>, but the tl;dr of it is that I ended up writing what was effectively a separate website, entirely in perl, to serve as my blog. And it worked. I had a web interface for writing content and uploading photos, that was password protected, and even had a concept of user accounts. Everything was stored in a mysql database. The exact text I entered into the interface for writing content, was stored in the database. This was so I could go back and edit the post again later and have it look the same. When the post needed to be rendered, it was processed by some perl I wrote that introduced html tags where I thought were appropriate. So I effectively wrote another markup for blog posts. This worked fine until I recently needed to embed code in a post. I used a simple approach with pre tags, but it rendered incorrectly. It turned out that every double newline was being replaced with a new paragraph and the pre tag was being ignored.</p>

<p>I wanted the most recent post of the blog to appear on the homepage in the content area. This is where it all really started to fall apart. Remember, the website was written in php and the blog in perl. My quick fix was to run the perl script that printed out the content of the most recent post from inside the index.php of the home page, and the output was printed in the content section.</p>

<p>Pretty bad huh?</p>

<p>Since my current projects are much bigger than the apps I built in the past, I want to make more frequent blog posts to show progress, so I needed a nicer way of creating contentt.</p>

<h2 id="in_with_the_new">…in with the new</h2>

<p>You will be glad to know that the entire content management system for both apps and blog posts has been completely re-written.</p>

<p>Each blog post has its own directory, containing an xml file with all the text content of the post, along with elements for describing images. There is also a html element, the content of which is literally inserted, which is useful for inserting canvas elements or iframes. Also in the directory is any supporting media, such as images or javascript files. The text content is written in markdown. Apps are a similar story. Each app directory contains an xml file with the name and url of the app.</p>

<p>A ruby script is used to generate the entire website, based on the apps and posts it finds. It creates a directory structure containing static html files which make up the site. Templating is done using <a href="http://www.kuwata-lab.com/erubis/">erubis</a>. XML parsing is done using <a href="http://nokogiri.org/">nokogiri</a>. Markdown rendering is done using <a href="http://maruku.rubyforge.org/">maruku</a>.</p>

<p>Also, <a href="http://www.kuwata-lab.com/erubis/">less.js</a> is used instead of CSS. I always complain that CSS sucks and is a pain to write. Less lessens the pain somewhat by allowing variables and mathematical expressions to go inside the stylesheet. Rather than putting div elements everywhere to have several elements with the same left indentation (say), or having to duplicate some value all through the css file, a variable can be used.</p>

<p>The new system is faster for page loads since the code that generates the page isn’t run every time the page is loaded. It’s safer since a bug in the website can be caught at “compile time”. Also, there is a security benefit since code injections attacks can’t be used against a static site.</p>

</div>
</div>



</div>
</div>

<div id="footer">
Copyright &copy; 2014 stevebob.net
</div>
</div>


</body>
</html>
