eval('document.onclick=T;M=Math;C=2000;S=16;O=0.5;F=0.9;u=[];z T(){r=M.random;f=M.floor;for(i=0;i<C;++i)u[i]={x:r()*a.width,y:r()*a.height};for(i in u){v=u[i];while(!v.h)v.h=u[f(r()*C)];v.h.v=v;while(!v.v)v.v=u[f(r()*C)];v.v.h=v}}z p(){c.fillStyle="rgba(0,0,0,"+F+")";c.beginPath();c.fillRect(0,0,a.width,a.height);c.fillStyle="rgba(255,255,255,"+O+")";u.map(z(q){c.fillRect(q.x,q.y,1,1)});c.fill();u.map(z(q){h=m(q.h,q.v);n=m(q,q.v);s=b(h,n)/b(h,h);r=1+2/e(h);t=m(g(q.v,l(m(q.h,q.v),s<r?r:s)),q);if(e(t)>S){d=g(q,A(t,S));q.a=d.x;q.b=d.y}else{q.a=q.x;q.b=q.y}});u.map(z(q){if(q.a>0&&q.a<a.width)q.x=q.a;if(q.b>0&&q.b<a.height)q.y=q.b});setTimeout(p,1)}T();p();z b(v,w){j v.x*w.x+v.y*w.y}z e(v){j M.sqrt(b(v,v))}z g(v,w){j{x:v.x+w.x,y:v.y+w.y}}z l(v,s){j{x:v.x*s,y:v.y*s}}z m(v,w){j g(v,l(w,-1))}z A(v,w){j l(l(v,1/e(v)),w)}'.replace(/z/g,'function').replace(/j/g,'return'))
